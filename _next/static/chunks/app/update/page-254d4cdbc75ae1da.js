(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{6275:function(e,a,l){Promise.resolve().then(l.bind(l,2014))},2014:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return U}});var s=l(9268),t=l(684),n=l.n(t);l(1059);var i="kgokhte",r="kgokhtf",c=l(1535);let o=e=>{let{color:a,size:l,bgColor:t}=e;return(0,s.jsxs)("svg",{className:(t?[c.filledSvg]:[]).join(" "),width:l,height:l,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"paint0_linear_1_90",x1:"44.8867",y1:"48.0739",x2:"97.812",y2:"48.0739",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:a,stopOpacity:"0"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:a})]}),(0,s.jsxs)("linearGradient",{id:"paint1_linear_1_90",x1:"48.3566",y1:"63.9939",x2:"91.1318",y2:"91.7675",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:a,stopOpacity:"0"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:a})]}),(0,s.jsx)("clipPath",{id:"clip0_1_90",children:(0,s.jsx)("rect",{width:"124",height:"124",fill:a})})]}),(0,s.jsxs)("g",{clipPath:"url(#clip0_1_90)",children:[(0,s.jsx)("path",{d:"M97.812 20.5515H73.5003L44.8867 50.5781V75.5963L97.812 20.5515Z",fill:"url(#paint0_linear_1_90)"}),(0,s.jsx)("path",{d:"M44.8867 103.448H24.3352V20.5515H44.8867V103.448Z",fill:a}),(0,s.jsx)("path",{d:"M99.6648 103.448L65.8937 53.7495L52.1404 68.0445L75.8005 103.448H99.6648Z",fill:"url(#paint1_linear_1_90)"})]})]})};var u=l(6006);l(8766);var d="_13rje5s3",h=l(6008);let m=()=>{let[e,a]=(0,u.useState)(!1),l=(0,h.useSearchParams)();if((0,u.useEffect)(()=>{a(!0)},[]),!e)return null;let t=l.get("content");if(!t)return(0,s.jsx)(s.Fragment,{});let{links:n,tags:i,theme:r}=JSON.parse(t);return(0,s.jsx)("div",{className:"_13rje5s1",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{"data-theme":r,className:["_13rje5s2",d].join(" "),children:"@kadena_io"}),n?n.map(e=>e?(0,s.jsxs)("li",{"data-theme":r,className:d,children:[e," ","->"]},"link-".concat(e)):(0,s.jsx)(s.Fragment,{})):(0,s.jsx)(s.Fragment,{}),i?i.map(e=>e?(0,s.jsxs)("li",{"data-theme":r,className:d,children:["#",e]},"tag-".concat(e)):(0,s.jsx)(s.Fragment,{})):(0,s.jsx)(s.Fragment,{})]})})};var j=l(6394),p=l.n(j);let x=()=>{var e,a;let[l,t]=(0,u.useState)(!1),n=(0,h.useSearchParams)();if((0,u.useEffect)(()=>{t(!0)},[]),!l)return null;let i=n.get("content");if(!i)return(0,s.jsx)(s.Fragment,{});let r=JSON.parse(i),c=!!(null===(e=r.profile)||void 0===e?void 0:e.filter(e=>null==e?void 0:e.image));return(0,s.jsx)(s.Fragment,{children:c?null===(a=r.profile)||void 0===a?void 0:a.filter(e=>e).map((e,a)=>{let{name:l,image:t}=e;return t?(0,s.jsx)(p(),{"data-theme":r.theme,alt:l,width:64,height:64,src:t},"image-".concat((null==t?void 0:t.split("/")[4])||l+"--"+a)):(0,s.jsx)(s.Fragment,{})}):(0,s.jsx)(s.Fragment,{})})},g=()=>{var e,a,l,t;let[n,c]=(0,u.useState)(!1),o=(0,h.useSearchParams)();if((0,u.useEffect)(()=>{c(!0)},[]),!n)return null;let d=o.get("content");if(!d)return(0,s.jsx)(s.Fragment,{});let m=JSON.parse(d);return m.theme,(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"kgokht7",children:[(0,s.jsxs)("h1",{"data-theme":m.theme,className:"kgokht8",children:[m.title,m.seqUpdate?(0,s.jsx)("span",{className:"kgokht9",children:"#".concat(m.seqUpdate)}):""]}),(0,s.jsx)("h2",{"data-theme":m.theme,className:"kgokhta",children:m.subtitle})]}),"summary"===m.contentType?(0,s.jsxs)("div",{className:"kgokhtb",children:[(0,s.jsx)("h3",{"data-theme":m.theme,className:i,children:null===(e=m.footer)||void 0===e?void 0:e.title}),(null===(a=m.footer)||void 0===a?void 0:a.subtitle)?(0,s.jsx)("h4",{"data-theme":m.theme,className:r,children:null===(l=m.footer)||void 0===l?void 0:l.subtitle}):(0,s.jsx)(s.Fragment,{})]}):"profile"===m.contentType?(0,s.jsx)("div",{className:"kgokhtd",children:null===(t=m.profile)||void 0===t?void 0:t.map(e=>(0,s.jsxs)("div",{className:"kgokhtc",children:[(0,s.jsx)("h3",{"data-theme":m.theme,className:[i,"dark"].join(" "),children:null==e?void 0:e.name}),(null==e?void 0:e.title)?(0,s.jsx)("h4",{"data-theme":m.theme,className:r,children:null==e?void 0:e.title}):(0,s.jsx)(s.Fragment,{}),(null==e?void 0:e.account)?(0,s.jsx)("h5",{"data-theme":m.theme,className:"kgokhtg",children:null==e?void 0:e.account}):(0,s.jsx)(s.Fragment,{})]},"profile-".concat(null==e?void 0:e.image)))}):(0,s.jsx)(s.Fragment,{})]})};function f(){let[e,a]=(0,u.useState)(!1),[l,t]=(0,u.useState)(""),[i,r]=(0,u.useState)(""),c=(0,u.useRef)(null),d=(0,u.useRef)(null),h=(0,u.useCallback)(()=>{if(window&&(null==c?void 0:c.current)){var e;let a=window.innerWidth-((null===(e=d.current)||void 0===e?void 0:e.clientWidth)||0),l=window.innerHeight,s=a/c.current.clientWidth;c.current.clientHeight*s>l&&(s=l/c.current.clientHeight),t("scale(".concat(s,")")),r("".concat(c.current.clientWidth*(s-1)/2,"px"))}},[c,d]),j=n()(h,100);return((0,u.useEffect)(()=>{d.current=document.querySelector("#sidebar")},[]),(0,u.useEffect)(()=>(a(!0),j(),window&&!e&&window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}),[j,e]),(0,u.useEffect)(()=>{j()},[c,d,e,j]),e)?(0,s.jsx)("div",{className:"kgokht3 kgokhth",style:{transform:l,left:i},ref:c,children:(0,s.jsx)("div",{className:"kgokht4",children:(0,s.jsxs)("div",{className:"kgokht6",children:[(0,s.jsxs)("div",{className:"kgokht5",children:[(0,s.jsx)(o,{color:"white",size:64,bgColor:!0}),(0,s.jsx)(x,{})]}),(0,s.jsx)(m,{}),(0,s.jsx)(g,{})]})})}):(0,s.jsx)(s.Fragment,{})}var N=l(8278),v=l(279);let b=()=>(0,s.jsx)("div",{className:N.backgroundWrapper,children:(0,s.jsx)(v.Image,{})});l(3932);var k="awa9phd",w="awa9ph9",C="awa9ph6",S="awa9phc",T="awa9phb",y="awa9pha",V="awa9phe",_="awa9ph8",E="awa9ph5",F=l(5219);let O=[],L=()=>{let[e,a]=(0,u.useState)(),[l,s]=(0,u.useState)(null),[t,n]=(0,u.useState)(null),i=(0,u.useCallback)(async e=>{console.log("recording started");try{e&&(e.srcObject=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"window"},audio:!1}),n(e.srcObject),s(new MediaRecorder(e.srcObject)))}catch(e){console.error(e)}},[]),r=(0,u.useCallback)(async e=>{console.log("recording stopped");let a=(null==t?void 0:t.getTracks())||null;a&&a.forEach(e=>{e.stop(),console.log(e)}),n(null),e&&(e.srcObject=null)},[t]);return(0,u.useEffect)(()=>{let e=null==t?void 0:t.getVideoTracks()[0];console.log("video",e),e&&console.log("TRACK RECEIVED",e)},[t]),(0,u.useEffect)(()=>{console.log("blobUrl",e)},[e]),(0,u.useEffect)(()=>{!l||(null==O?void 0:O.length)||(l.ondataavailable=e=>{e.data.size>0&&O.push(e.data)},l.onstop=()=>{if(O.length){let e=new Blob(O,{type:"video/mp4"}),l=URL.createObjectURL(e);a(l),console.log("BLOB URL",l,O)}O=[]},l.start(200))},[l,a]),{start:i,stop:r,video:t,blobUrl:e}},P=e=>{var a,l,t,n;let{}=e,i=L(),r=(0,h.useRouter)(),c=(0,h.useSearchParams)(),o=(0,u.useRef)(null),d=c.get("content")||"{}",[m,j]=(0,u.useState)(JSON.parse(null!=d?d:"{}")),[p,x]=(0,u.useState)(JSON.parse(null!=d?d:"{}")),[g,f]=(0,u.useState)(!1),N=(0,u.useCallback)(()=>{r.replace("/update/?content="+JSON.stringify(p)),j({...p})},[r,p]),v=(0,u.useCallback)(e=>{f("1"===e);let a="1"===e?"profile":"summary";(0,F.Hn)(p,"contentType",a),x({...p,contentType:a}),N()},[f,p,x,N]),b=(0,u.useCallback)(e=>{try{let a=[...new Set([...m[e],{image:"",name:"",title:"",account:""}])].filter(e=>e);(0,F.Hn)(p,e,a),x({...p}),N()}catch(e){console.error("First save the form")}},[m,p,N]),O=(0,u.useCallback)((e,a)=>{if(a=a.includes("#")?a.replaceAll("#",""):a,e.includes(".")||e.includes("[")){if(e.includes("[")){if(a)(0,F.Hn)(p,e,a);else{(0,F.E2)(p,e);let[a]=e.split("["),l=(0,F.$s)(p,a);(0,F.Hn)(p,a,[...new Set([...l.filter(e=>e)])])}x({...p});return}(0,F.Hn)(p,e,a),x({...p});return}x({...p,[e]:a})},[p,x]),P=(0,u.useCallback)(e=>{let a={...m};if(e.includes("[")){(0,F.E2)(a,e);let[l]=e.split("["),s=(0,F.$s)(a,l);(0,F.Hn)(a,l,[...new Set([...s.filter(e=>e)])])}x({...a})},[m,x]);return(0,u.useEffect)(()=>{f(!!m.profile)},[m,f]),(0,u.useEffect)(()=>{i.blobUrl&&o.current&&(o.current.src=i.blobUrl)},[i.blobUrl]),(0,s.jsxs)("div",{id:"sidebar",className:"awa9ph0",children:[(0,s.jsx)("h1",{className:"awa9ph3",children:"Post content"}),(0,s.jsx)("p",{className:"awa9ph4",children:"Fill in your post details and apply changes to see the updates."}),(0,s.jsxs)("div",{className:"awa9ph1",children:[(0,s.jsxs)("select",{className:_,defaultValue:"profile"===m.contentType?"1":"0",onChange:e=>v(e.currentTarget.value),children:[(0,s.jsx)("option",{value:"1",children:"Profile (content with avatars/social accounts)"}),(0,s.jsx)("option",{value:"0",children:"Summary (text based post)"})]}),(0,s.jsxs)("select",{className:_,defaultValue:m.theme,onChange:e=>O("theme",e.currentTarget.value),children:[(0,s.jsx)("option",{value:"dark",children:"Dark"}),(0,s.jsx)("option",{value:"light",children:"Light"})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Title"}),(0,s.jsx)("input",{className:C,defaultValue:m.title,onChange:e=>O("title",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Subtitle"}),(0,s.jsx)("input",{className:C,defaultValue:m.subtitle,onChange:e=>O("subtitle",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:[S,"awa9ph7"].join(" "),children:[(0,s.jsx)("span",{className:E,children:"Sequence (e.g. 2.1.0)"}),(0,s.jsx)("input",{className:C,defaultValue:m.seqUpdate,onChange:e=>O("seqUpdate",e.currentTarget.value)})]}),"profile"===m.contentType?(0,s.jsxs)("fieldset",{className:w,children:[(0,s.jsx)("legend",{className:T,children:"Profiles"}),null===(a=m.profile)||void 0===a?void 0:a.map((e,a)=>m.profile&&e?(0,s.jsxs)("fieldset",{className:[w,y].join(" "),children:[(0,s.jsxs)("legend",{className:T,children:["Profile ",a+1]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"image"}),(0,s.jsx)("input",{className:C,defaultValue:m.profile[a].image,onChange:e=>O("profile[".concat(a,"].image"),e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Name"}),(0,s.jsx)("input",{className:C,defaultValue:m.profile[a].name,onChange:e=>O("profile[".concat(a,"].name"),e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Title"}),(0,s.jsx)("input",{className:C,defaultValue:m.profile[a].title,onChange:e=>O("profile[".concat(a,"].title"),e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Social Account"}),(0,s.jsx)("input",{className:C,defaultValue:m.profile[a].account,onChange:e=>O("profile[".concat(a,"].account"),e.currentTarget.value)})]}),(0,s.jsx)("button",{className:k,onClick:()=>P("profile[".concat(a,"]")),children:"Remove Profile"})]},"profile-".concat(a)):(0,s.jsx)(s.Fragment,{})),(!m.profile||!(null===(l=m.profile)||void 0===l?void 0:l.filter(e=>e).length))&&(0,s.jsxs)("fieldset",{className:[w,y].join(" "),children:[(0,s.jsx)("legend",{className:T,children:"New Profile"}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Image"}),(0,s.jsx)("input",{className:C,defaultValue:"",onChange:e=>O("profile[0].image",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Name"}),(0,s.jsx)("input",{className:C,defaultValue:"",onChange:e=>O("profile[0].name",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Title"}),(0,s.jsx)("input",{className:C,defaultValue:"",onChange:e=>O("profile[0].title",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Social Account"}),(0,s.jsx)("input",{className:C,defaultValue:"",onChange:e=>O("profile[0].account",e.currentTarget.value)})]})]},"profile-0"),(0,s.jsx)("button",{className:k,onClick:()=>b("profile"),children:"Add Profile"})]}):(0,s.jsxs)("fieldset",{className:w,children:[(0,s.jsx)("legend",{className:T,children:"Summary"}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Title"}),(0,s.jsx)("input",{className:C,defaultValue:null===(t=m.footer)||void 0===t?void 0:t.title,onChange:e=>O("footer.title",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Subtitle"}),(0,s.jsx)("input",{className:C,defaultValue:null===(n=m.footer)||void 0===n?void 0:n.subtitle,onChange:e=>O("footer.subtitle",e.currentTarget.value)})]})]}),(0,s.jsxs)("fieldset",{className:w,children:[(0,s.jsx)("legend",{className:T,children:"Links"}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Link"}),(0,s.jsx)("input",{className:C,defaultValue:m.links?m.links[0]:"",onChange:e=>O("links[0]",e.currentTarget.value)})]},"link-0"),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Link"}),(0,s.jsx)("input",{className:C,defaultValue:m.links?m.links[1]:"",onChange:e=>O("links[1]",e.currentTarget.value)})]},"link-1"),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Link"}),(0,s.jsx)("input",{className:C,defaultValue:m.links?m.links[2]:"",onChange:e=>O("links[2]",e.currentTarget.value)})]},"link-2")]}),(0,s.jsxs)("fieldset",{className:w,children:[(0,s.jsx)("legend",{className:T,children:"Tags"}),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Tag"}),(0,s.jsx)("input",{className:C,defaultValue:m.tags?m.tags[0]:"",onChange:e=>O("tags[0]",e.currentTarget.value)})]},"tag-0"),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Tag"}),(0,s.jsx)("input",{className:C,defaultValue:m.tags?m.tags[1]:"",onChange:e=>O("tags[1]",e.currentTarget.value)})]},"tag-1"),(0,s.jsxs)("label",{className:S,children:[(0,s.jsx)("span",{className:E,children:"Tag"}),(0,s.jsx)("input",{className:C,defaultValue:m.tags?m.tags[2]:"",onChange:e=>O("tags[2]",e.currentTarget.value)})]},"tag-2")]})]}),(0,s.jsx)("button",{className:[k,V].join(" "),onClick:()=>{let e=window.open(window.location.href+"&sidebar=false","detab","toolbar=0");e.document.title="Record this window"},children:"Preview ↗️"}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:[k,V].join(" "),onClick:()=>N(),children:"Save changes"})]})};async function U(e){let a=(0,h.useSearchParams)(),l="false"!==a.get("sidebar");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(f,{...e}),l&&(0,s.jsx)(P,{})]})}},3932:function(){},8766:function(){},1059:function(){}},function(e){e.O(0,[731,45,327,667,488,744],function(){return e(e.s=6275)}),_N_E=e.O()}]);