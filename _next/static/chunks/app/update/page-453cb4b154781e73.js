(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{6116:function(e,a,l){Promise.resolve().then(l.bind(l,279)),Promise.resolve().then(l.bind(l,8278)),Promise.resolve().then(l.t.bind(l,8920,23)),Promise.resolve().then(l.bind(l,2368)),Promise.resolve().then(l.bind(l,1535)),Promise.resolve().then(l.bind(l,8969)),Promise.resolve().then(l.bind(l,8879))},8879:function(e,a,l){"use strict";l.r(a),l.d(a,{Sidebar:function(){return g}});var s=l(9268),t=l(6006);l(3932);var n="awa9phd",i="awa9ph9",r="awa9ph6",c="awa9phc",o="awa9phb",u="awa9pha",d="awa9ph8",h="awa9ph5",m=l(6008),p=l(5219);let j=[],x=()=>{let[e,a]=(0,t.useState)(),[l,s]=(0,t.useState)(null),[n,i]=(0,t.useState)(null),r=(0,t.useCallback)(async e=>{console.log("recording started");try{e&&(e.srcObject=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"window"},audio:!1}),i(e.srcObject),s(new MediaRecorder(e.srcObject)))}catch(e){console.error(e)}},[]),c=(0,t.useCallback)(async e=>{console.log("recording stopped");let a=(null==n?void 0:n.getTracks())||null;a&&a.forEach(e=>{e.stop(),console.log(e)}),i(null),e&&(e.srcObject=null)},[n]);return(0,t.useEffect)(()=>{let e=null==n?void 0:n.getVideoTracks()[0];console.log("video",e),e&&console.log("TRACK RECEIVED",e)},[n]),(0,t.useEffect)(()=>{console.log("blobUrl",e)},[e]),(0,t.useEffect)(()=>{!l||(null==j?void 0:j.length)||(l.ondataavailable=e=>{e.data.size>0&&j.push(e.data)},l.onstop=()=>{if(j.length){let e=new Blob(j,{type:"video/mp4"}),l=URL.createObjectURL(e);a(l),console.log("BLOB URL",l,j)}j=[]},l.start(200))},[l,a]),{start:r,stop:c,video:n,blobUrl:e}},g=e=>{var a,l,j,g;let{}=e,f=x(),N=(0,m.useRouter)(),v=(0,m.useSearchParams)(),b=(0,t.useRef)(null),k=v.get("content")||"{}",[w,C]=(0,t.useState)(JSON.parse(null!=k?k:"{}")),[S,T]=(0,t.useState)(JSON.parse(null!=k?k:"{}")),[y,V]=(0,t.useState)(!1),_=(0,t.useCallback)(()=>{N.replace("/update/?content="+JSON.stringify(S)),C({...S})},[N,S]),E=(0,t.useCallback)(e=>{V("1"===e);let a="1"===e?"profile":"summary";(0,p.Hn)(S,"contentType",a),T({...S,contentType:a}),_()},[V,S,T,_]),P=(0,t.useCallback)(e=>{try{let a=[...new Set([...w[e],{image:"",name:"",title:"",account:""}])].filter(e=>e);(0,p.Hn)(S,e,a),T({...S}),_()}catch(e){console.error("First save the form")}},[w,S,_]),F=(0,t.useCallback)((e,a)=>{if(a=a.includes("#")?a.replaceAll("#",""):a,e.includes(".")||e.includes("[")){if(e.includes("[")){if(a)(0,p.Hn)(S,e,a);else{(0,p.E2)(S,e);let[a]=e.split("["),l=(0,p.$s)(S,a);(0,p.Hn)(S,a,[...new Set([...l.filter(e=>e)])])}T({...S});return}(0,p.Hn)(S,e,a),T({...S});return}T({...S,[e]:a})},[S,T]),O=(0,t.useCallback)(e=>{let a={...w};if(e.includes("[")){(0,p.E2)(a,e);let[l]=e.split("["),s=(0,p.$s)(a,l);(0,p.Hn)(a,l,[...new Set([...s.filter(e=>e)])])}T({...a})},[w,T]);return(0,t.useEffect)(()=>{V(!!w.profile)},[w,V]),(0,t.useEffect)(()=>{f.blobUrl&&b.current&&(b.current.src=f.blobUrl)},[f.blobUrl]),(0,s.jsxs)("div",{id:"sidebar",className:"awa9ph0",children:[(0,s.jsx)("h1",{className:"awa9ph3",children:"Post content"}),(0,s.jsx)("p",{className:"awa9ph4",children:"Fill in your post details and apply changes to see the updates."}),(0,s.jsxs)("div",{className:"awa9ph1",children:[(0,s.jsxs)("select",{className:d,defaultValue:"profile"===w.contentType?"1":"0",onChange:e=>E(e.currentTarget.value),children:[(0,s.jsx)("option",{value:"1",children:"Profile (content with avatars/social accounts)"}),(0,s.jsx)("option",{value:"0",children:"Summary (text based post)"})]}),(0,s.jsxs)("select",{className:d,defaultValue:w.theme,onChange:e=>F("theme",e.currentTarget.value),children:[(0,s.jsx)("option",{value:"dark",children:"Dark"}),(0,s.jsx)("option",{value:"light",children:"Light"})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Title"}),(0,s.jsx)("input",{className:r,defaultValue:w.title,onChange:e=>F("title",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Subtitle"}),(0,s.jsx)("input",{className:r,defaultValue:w.subtitle,onChange:e=>F("subtitle",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:[c,"awa9ph7"].join(" "),children:[(0,s.jsx)("span",{className:h,children:"Sequence (e.g. 2.1.0)"}),(0,s.jsx)("input",{className:r,defaultValue:w.seqUpdate,onChange:e=>F("seqUpdate",e.currentTarget.value)})]}),"profile"===w.contentType?(0,s.jsxs)("fieldset",{className:i,children:[(0,s.jsx)("legend",{className:o,children:"Profiles"}),null===(a=w.profile)||void 0===a?void 0:a.map((e,a)=>w.profile&&e?(0,s.jsxs)("fieldset",{className:[i,u].join(" "),children:[(0,s.jsxs)("legend",{className:o,children:["Profile ",a+1]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"image"}),(0,s.jsx)("input",{className:r,defaultValue:w.profile[a].image,onChange:e=>F("profile[".concat(a,"].image"),e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Name"}),(0,s.jsx)("input",{className:r,defaultValue:w.profile[a].name,onChange:e=>F("profile[".concat(a,"].name"),e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Title"}),(0,s.jsx)("input",{className:r,defaultValue:w.profile[a].title,onChange:e=>F("profile[".concat(a,"].title"),e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Social Account"}),(0,s.jsx)("input",{className:r,defaultValue:w.profile[a].account,onChange:e=>F("profile[".concat(a,"].account"),e.currentTarget.value)})]}),(0,s.jsx)("button",{className:n,onClick:()=>O("profile[".concat(a,"]")),children:"Remove Profile"})]},"profile-".concat(a)):(0,s.jsx)(s.Fragment,{})),(!w.profile||!(null===(l=w.profile)||void 0===l?void 0:l.filter(e=>e).length))&&(0,s.jsxs)("fieldset",{className:[i,u].join(" "),children:[(0,s.jsx)("legend",{className:o,children:"New Profile"}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Image"}),(0,s.jsx)("input",{className:r,defaultValue:"",onChange:e=>F("profile[0].image",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Name"}),(0,s.jsx)("input",{className:r,defaultValue:"",onChange:e=>F("profile[0].name",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Title"}),(0,s.jsx)("input",{className:r,defaultValue:"",onChange:e=>F("profile[0].title",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Social Account"}),(0,s.jsx)("input",{className:r,defaultValue:"",onChange:e=>F("profile[0].account",e.currentTarget.value)})]})]},"profile-0"),(0,s.jsx)("button",{className:n,onClick:()=>P("profile"),children:"Add Profile"})]}):(0,s.jsxs)("fieldset",{className:i,children:[(0,s.jsx)("legend",{className:o,children:"Summary"}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Title"}),(0,s.jsx)("input",{className:r,defaultValue:null===(j=w.footer)||void 0===j?void 0:j.title,onChange:e=>F("footer.title",e.currentTarget.value)})]}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Subtitle"}),(0,s.jsx)("input",{className:r,defaultValue:null===(g=w.footer)||void 0===g?void 0:g.subtitle,onChange:e=>F("footer.subtitle",e.currentTarget.value)})]})]}),(0,s.jsxs)("fieldset",{className:i,children:[(0,s.jsx)("legend",{className:o,children:"Links"}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Link"}),(0,s.jsx)("input",{className:r,defaultValue:w.links?w.links[0]:"",onChange:e=>F("links[0]",e.currentTarget.value)})]},"link-0"),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Link"}),(0,s.jsx)("input",{className:r,defaultValue:w.links?w.links[1]:"",onChange:e=>F("links[1]",e.currentTarget.value)})]},"link-1"),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Link"}),(0,s.jsx)("input",{className:r,defaultValue:w.links?w.links[2]:"",onChange:e=>F("links[2]",e.currentTarget.value)})]},"link-2")]}),(0,s.jsxs)("fieldset",{className:i,children:[(0,s.jsx)("legend",{className:o,children:"Tags"}),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Tag"}),(0,s.jsx)("input",{className:r,defaultValue:w.tags?w.tags[0]:"",onChange:e=>F("tags[0]",e.currentTarget.value)})]},"tag-0"),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Tag"}),(0,s.jsx)("input",{className:r,defaultValue:w.tags?w.tags[1]:"",onChange:e=>F("tags[1]",e.currentTarget.value)})]},"tag-1"),(0,s.jsxs)("label",{className:c,children:[(0,s.jsx)("span",{className:h,children:"Tag"}),(0,s.jsx)("input",{className:r,defaultValue:w.tags?w.tags[2]:"",onChange:e=>F("tags[2]",e.currentTarget.value)})]},"tag-2")]})]}),(0,s.jsx)("button",{className:[n,"awa9phe"].join(" "),onClick:()=>_(),children:"Save changes"})]})}},8969:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return f}});var s=l(9268),t=l(6402),n=l.n(t);l(2520);var i="kgokhtd",r="kgokhte",c=l(1535);let o=e=>{let{color:a,size:l,bgColor:t}=e;return(0,s.jsxs)("svg",{className:(t?[c.filledSvg]:[]).join(" "),width:l,height:l,viewBox:"0 0 124 124",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"paint0_linear_1_90",x1:"44.8867",y1:"48.0739",x2:"97.812",y2:"48.0739",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:a,stopOpacity:"0"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:a})]}),(0,s.jsxs)("linearGradient",{id:"paint1_linear_1_90",x1:"48.3566",y1:"63.9939",x2:"91.1318",y2:"91.7675",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{stopColor:a,stopOpacity:"0"}),(0,s.jsx)("stop",{offset:"0.6",stopColor:a})]}),(0,s.jsx)("clipPath",{id:"clip0_1_90",children:(0,s.jsx)("rect",{width:"124",height:"124",fill:a})})]}),(0,s.jsxs)("g",{clipPath:"url(#clip0_1_90)",children:[(0,s.jsx)("path",{d:"M97.812 20.5515H73.5003L44.8867 50.5781V75.5963L97.812 20.5515Z",fill:"url(#paint0_linear_1_90)"}),(0,s.jsx)("path",{d:"M44.8867 103.448H24.3352V20.5515H44.8867V103.448Z",fill:a}),(0,s.jsx)("path",{d:"M99.6648 103.448L65.8937 53.7495L52.1404 68.0445L75.8005 103.448H99.6648Z",fill:"url(#paint1_linear_1_90)"})]})]})};var u=l(6006);l(8766);var d="_13rje5s3",h=l(6008);let m=()=>{let[e,a]=(0,u.useState)(!1),l=(0,h.useSearchParams)();if((0,u.useEffect)(()=>{a(!0)},[]),!e)return null;let t=l.get("content");if(!t)return(0,s.jsx)(s.Fragment,{});let{links:n,tags:i,theme:r}=JSON.parse(t);return(0,s.jsx)("div",{className:"_13rje5s1",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{"data-theme":r,className:["_13rje5s2",d].join(" "),children:"@kadena_io"}),n?n.map(e=>e?(0,s.jsxs)("li",{"data-theme":r,className:d,children:[e," ","->"]},"link-".concat(e)):(0,s.jsx)(s.Fragment,{})):(0,s.jsx)(s.Fragment,{}),i?i.map(e=>e?(0,s.jsxs)("li",{"data-theme":r,className:d,children:["#",e]},"tag-".concat(e)):(0,s.jsx)(s.Fragment,{})):(0,s.jsx)(s.Fragment,{})]})})};var p=l(6394),j=l.n(p);let x=()=>{var e,a;let[l,t]=(0,u.useState)(!1),n=(0,h.useSearchParams)();if((0,u.useEffect)(()=>{t(!0)},[]),!l)return null;let i=n.get("content");if(!i)return(0,s.jsx)(s.Fragment,{});let r=JSON.parse(i),c=!!(null===(e=r.profile)||void 0===e?void 0:e.filter(e=>null==e?void 0:e.image));return(0,s.jsx)(s.Fragment,{children:c?null===(a=r.profile)||void 0===a?void 0:a.filter(e=>e).map((e,a)=>{let{name:l,image:t}=e;return t?(0,s.jsx)(j(),{"data-theme":r.theme,alt:l,width:64,height:64,src:t},"image-".concat((null==t?void 0:t.split("/")[4])||l+"--"+a)):(0,s.jsx)(s.Fragment,{})}):(0,s.jsx)(s.Fragment,{})})},g=()=>{var e,a,l,t;let[n,c]=(0,u.useState)(!1),o=(0,h.useSearchParams)();if((0,u.useEffect)(()=>{c(!0)},[]),!n)return null;let d=o.get("content");if(!d)return(0,s.jsx)(s.Fragment,{});let m=JSON.parse(d);return m.theme,(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"kgokht6",children:[(0,s.jsxs)("h1",{"data-theme":m.theme,className:"kgokht7",children:[m.title,m.seqUpdate?(0,s.jsx)("span",{className:"kgokht8",children:"#".concat(m.seqUpdate)}):""]}),(0,s.jsx)("h2",{"data-theme":m.theme,className:"kgokht9",children:m.subtitle})]}),"summary"===m.contentType?(0,s.jsxs)("div",{className:"kgokhta",children:[(0,s.jsx)("h3",{"data-theme":m.theme,className:i,children:null===(e=m.footer)||void 0===e?void 0:e.title}),(null===(a=m.footer)||void 0===a?void 0:a.subtitle)?(0,s.jsx)("h4",{"data-theme":m.theme,className:r,children:null===(l=m.footer)||void 0===l?void 0:l.subtitle}):(0,s.jsx)(s.Fragment,{})]}):"profile"===m.contentType?(0,s.jsx)("div",{className:"kgokhtc",children:null===(t=m.profile)||void 0===t?void 0:t.map(e=>(0,s.jsxs)("div",{className:"kgokhtb",children:[(0,s.jsx)("h3",{"data-theme":m.theme,className:[i,"dark"].join(" "),children:null==e?void 0:e.name}),(null==e?void 0:e.title)?(0,s.jsx)("h4",{"data-theme":m.theme,className:r,children:null==e?void 0:e.title}):(0,s.jsx)(s.Fragment,{}),(null==e?void 0:e.account)?(0,s.jsx)("h5",{"data-theme":m.theme,className:"kgokhtf",children:null==e?void 0:e.account}):(0,s.jsx)(s.Fragment,{})]},"profile-".concat(null==e?void 0:e.image)))}):(0,s.jsx)(s.Fragment,{})]})};function f(){let[e,a]=(0,u.useState)(!1),[l,t]=(0,u.useState)(""),[i,r]=(0,u.useState)(""),c=(0,u.useRef)(null),d=(0,u.useRef)(null),h=(0,u.useCallback)(()=>{if(window&&(null==c?void 0:c.current)&&(null==d?void 0:d.current)){var e;let a=window.innerWidth-(null===(e=d.current)||void 0===e?void 0:e.clientWidth),l=window.innerHeight,s=a/c.current.clientWidth;c.current.clientHeight*s>l&&(s=l/c.current.clientHeight),t("scale(".concat(s,")")),r("".concat(c.current.clientWidth*(s-1)/2,"px"))}},[c,d]),p=n()(h,100);return((0,u.useEffect)(()=>{d.current=document.querySelector("#sidebar")},[]),(0,u.useEffect)(()=>(a(!0),p(),window&&!e&&window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[p,e]),(0,u.useEffect)(()=>{p()},[c,d,e,p]),e)?(0,s.jsx)("div",{className:"kgokht2",style:{transform:l,left:i},ref:c,children:(0,s.jsx)("div",{className:"kgokht3",children:(0,s.jsxs)("div",{className:"kgokht5",children:[(0,s.jsxs)("div",{className:"kgokht4",children:[(0,s.jsx)(o,{color:"white",size:64,bgColor:!0}),(0,s.jsx)(x,{})]}),(0,s.jsx)(m,{}),(0,s.jsx)(g,{})]})})}):(0,s.jsx)(s.Fragment,{})}},3932:function(){},8766:function(){},2520:function(){}},function(e){e.O(0,[275,45,427,667,488,744],function(){return e(e.s=6116)}),_N_E=e.O()}]);